# Your timezone
TZ=Etc/UTC

#################################
# --- Sillytavern ---
#################################

# Network settings
SILLYTAVERN_LISTEN=true
SILLYTAVERN_LISTENADDRESS_IPV4=0.0.0.0
SILLYTAVERN_PORT=8000

# SSL settings
SILLYTAVERN_SSL_ENABLED=false
SILLYTAVERN_SSL_CERTPATH="./config/cert.pem"
SILLYTAVERN_SSL_KEYPATH="./config/privkey.pem"

# Access control settings
SILLYTAVERN_WHITELIST='["127.0.0.1", "::1", "172.16.0.0/12"]'

# User and session settings
SILLYTAVERN_ENABLEUSERACCOUNTS=true
SILLYTAVERN_ENABLEDISCREETLOGIN=true
SILLYTAVERN_SESSIONTIMEOUT=0

#################################
# --- Ollama ---
#################################

# Default Ollama model pulled during startup
OLLAMA_DEFAULT_MODEL=gemma3:4b

# Default points to internal service
OLLAMA_HOST=ollama:11434

# Keep the model resident (avoid cold starts). Change to e.g. 15m if you prefer auto-unload.
OLLAMA_KEEP_ALIVE=-1

# Cap concurrency at 2 requests in parallel.
OLLAMA_NUM_PARALLEL=2

# Memory-saving KV cache to fit 20B + 2-way parallelism on 16 GB.
OLLAMA_KV_CACHE_TYPE=q4_0

# Default context length; increase only if you have headroom.
OLLAMA_CONTEXT_LENGTH=4096

# Enable fast attention kernels when supported.
OLLAMA_FLASH_ATTENTION=1

# Optionally pin to a specific GPU index if multiple present:
CUDA_VISIBLE_DEVICES=0
